!function(){Vue.http.interceptors.push(function(t,s){t.credentials=!0,s()});new Vue({el:"body",data:{domain:"http://shaozi.beansonbar.cn",parentMsg:{},tutorMsg:{},status:{isFeeInfo:!1,isLoading:!1,isParent:!0,isTeacher:!0,isEnlargeImg:!1,enlargeImg:""},form:{select:1,id:0,user:"teacher"},fee:Number},ready:function(){this.setOption(),1==this.form.select?this.form.user="teacher":this.form.user="parent",this.renderData(),this.status.isLoading=!0},methods:{setOption:function(){var t=location.search;if(t.indexOf("?")!=-1){t=t.substr(1,t.length).split("&");for(var s,e=0,n=t.length;e<n;e++)s=t[e].split("="),"select"==s[0]?this.form.select=parseInt(s[1]):this.form.id=parseInt(s[1])}},renderData:function(){this.$http.post(this.domain+"/getInfo",{id:this.form.id,format:!0,user:this.form.user},{crossOrigin:!0,headers:{"Content-Type":"application/json"}}).then(function(t){if(console.log(t.json()),0==t.json().success)console.log(t.json().error);else if(1==this.form.select){var s=t.json();""!=s.certificate_photo&&null!=s.certificate_photo&&(s.certificate_photo=this.domain+s.certificate_photo);var e=s.teach_show_photo,n=e.length;if(n>0)for(var i=0;i<n;i++)e[i]=this.domain+e[i];this.status.isParent=!1,this.status.isTeacher=!0,this.$set("tutorMsg",s)}else{this.status.isParent=!0,this.status.isTeacher=!1;var s=t.json();s.class_field=this.grade_level(s.class_field),this.$set("parentMsg",s)}})},grade_level:function(t){switch(t){case 0:return"";case 1:return"较为靠后";case 2:return"中等偏下";case 3:return"中等水平";case 4:return"中上水平";case 5:return"名列前茅"}},onReturn:function(){window.location.href="./examine.html?select="+this.form.select},notExamine:function(){this.onExamine(0)},onUser:function(){window.location.href="./userAdministor.html"},onDeal:function(){window.location.href="./deal.html"},onOther:function(){window.location.href="./other.html"},YesExamine:function(){this.onExamine(1)},onExamine:function(t){this.$http.post(this.domain+"/setPass",{type:t,user:this.form.user,id:this.form.id},{crossOrigin:!0,headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.json()),0==t.json().success?console.log(t.json().error):this.onReturn()})},showImg:function(t){this.status.enlargeImg=this.tutorMsg.teach_show_photo[t],this.status.isEnlargeImg=!0},closeImg:function(){this.status.isEnlargeImg=!1}}})}();