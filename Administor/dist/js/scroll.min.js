!function(t,e){e("object"==typeof exports&&"undefined"!=typeof module?exports:t.Scroll=t.Scroll||{})}(this,function(t){"use strict";function e(t){t.directive("Scroll",s)}var o=function(t,e){var o,n,r,i,l,c=function(){t.apply(i,l),n=o};return function(){if(i=this,l=arguments,o=Date.now(),r&&(clearTimeout(r),r=null),n){var t=e-(o-n);t<0?c():r=setTimeout(function(){c()},t)}else c()}},n=document.documentElement.scrollTop||document.body.scrollTop,r=document.defaultView.getComputedStyle,i=function(t){for(var e=t;e&&"HTML"!==e.tagName&&1===e.nodeType;){var o=r(e).overflowY;if("scroll"===o||"auto"===o)return e;e=e.parentNode}return window},l=function(){return document.documentElement.clientHeight},c=function(){return document.documentElement.scrollHeight},u=function(t){for(var e=t.parentNode;e;){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},s={doBind:function(){if(!this.binded){this.binded=!0;var t=this,e=t.el;t.scrollEventTarget=i(e),t.scrollListener=o(t.doCheck.bind(t),200),t.scrollEventTarget.addEventListener("scroll",t.scrollListener);var n=e.getAttribute("scroll-top"),r=0;n&&(r=Number(t.vm.$get(n)),isNaN(r)&&(r=0)),t.viewportTop=r;var l=e.getAttribute("scroll-foot"),c=0;l&&(c=Number(t.vm.$get(l)),isNaN(c)&&(c=0)),t.viewportFoot=c;var u=e.getAttribute("scroll-up");t.viewportUpExpr=u;var s=e.getAttribute("scroll-initialize"),d=!1;s&&(d=Boolean(t.vm.$get(s))),t.initialize=d,d&&t.doCheck()}},doCheck:function(t){var e=this.scrollEventTarget,o=this.el,r=this.viewportFoot,i=this.viewportTop;if(t===!0||!this.disabled){var u=!1,s=window.onscroll=function(t){var e=document.documentElement.scrollTop||document.body.scrollTop;return t=!1,e>n?(t=!1,n=e,t):(t=!0,n=e,t)};s()&&i>n?this.vm.$get(this.viewportUpExpr):u=e===o?l()+n+r<=c():l()+n+r>=c(),u&&this.expression&&this.vm.$get(this.expression)}},bind:function(){var t=this,e=this.el;t.vm.$on("hook:ready",function(){u(e)&&t.doBind()}),this.bindTryCount=0;var o=function o(){t.bindTryCount>10||(t.bindTryCount++,u(e)?t.doBind():setTimeout(o,50))};o()},unbind:function(){this.scrollEventTarget.removeEventListener("scroll",this.scrollListener)}};window.Vue&&(window.Scroll=s,Vue.use(e)),t.install=e,t.Scroll=s});